{"version":3,"sources":["node_modules/browser-pack/_prelude.js","js/Clock.js","js/Emitter.js","js/Parallax.js","js/ScrollEmitter.js","js/index.js"],"names":[],"mappings":"AAAA;;;;;;;;;ACAA;;;;;;;;;;;;IAEM,K;;;AACF,qBAAc;AAAA;;AAAA;;AAGV,cAAK,OAAL,GAAe,KAAf;AACA,cAAK,QAAL,GAAgB,KAAhB;AACA,cAAK,UAAL;AACA,cAAK,KAAL,GAAa,MAAK,KAAL,CAAW,IAAX,OAAb;AANU;AAOb;;;;8BAEM,S,EAAY;AACf,iBAAK,QAAL,GAAgB,KAAhB;;AAEA,iBAAK,OAAL,CAAc,QAAd;AACA,iBAAK,OAAL,CAAc,MAAd,EAAsB,SAAtB;;AAEA,gBAAI,KAAK,OAAL,CAAa,MAAjB,EAA0B;AACtB,qBAAK,IAAL,GAAY,sBAAuB,KAAK,KAA5B,CAAZ;AACH,aAFD,MAEO;AACH,qBAAK,IAAL;AACH;AACJ;;;uCAEc;AACX,gBAAI,CAAC,KAAK,QAAV,EAAqB;AACjB,qBAAK,IAAL,GAAY,sBAAuB,KAAK,KAA5B,CAAZ;AACH;;AAED,iBAAK,QAAL,GAAgB,IAAhB;AACH;;;gCAEO;AACJ,iBAAK,OAAL,GAAe,IAAf;AACA,iBAAK,YAAL;AACH;;;+BAEM;AACH,iBAAK,OAAL,GAAe,KAAf;AACA,iCAAsB,KAAK,IAA3B;AACH;;;;;;AACJ;;kBAEc,K;;;;;;;;;;;;;;;IC5CT,O;AACF,uBAAc;AAAA;;AACV,aAAK,OAAL,GAAe,EAAf;AACH;;;;kCAEU,S,EAAY;AACnB,mBAAO,aAAa,KAAK,OAAzB;AACH;;;2BAEG,S,EAAW,Q,EAAW;AACtB,gBAAI,KAAK,SAAL,CAAgB,SAAhB,CAAJ,EAAkC;AAC9B,qBAAK,OAAL,CAAa,SAAb,EAAwB,IAAxB,CAA8B,QAA9B;AACH,aAFD,MAEO;AACH,qBAAK,OAAL,CAAa,SAAb,IAA0B,CAAE,QAAF,CAA1B;AACH;;AAED,mBAAO,IAAP;AACH;;;6BAEK,S,EAAW,Q,EAAW;AACxB,iBAAK,EAAL,CAAS,SAAT,EAAoB,EAAE,IAAI,QAAN,EAApB;AACH;;;4BAEI,S,EAAW,Q,EAAW;AACvB,gBAAI,CAAC,KAAK,SAAL,CAAgB,SAAhB,CAAL,EAAmC;AAC/B,uBAAO,IAAP;AACH;;AAED,gBAAM,QAAQ,KAAK,OAAL,CAAa,SAAb,EAAwB,OAAxB,CAAiC,QAAjC,CAAd;;AAEA,gBAAI,SAAS,CAAb,EAAiB;AACb,qBAAK,OAAL,CAAa,SAAb,EAAwB,MAAxB,CAAgC,KAAhC,EAAuC,CAAvC;AACH;AACJ;;;gCAEQ,S,EAAW,I,EAA4B;AAAA;;AAAA,gBAAtB,QAAsB,yDAAX,YAAM,CAAE,CAAG;;AAC5C,gBAAI,CAAC,KAAK,SAAL,CAAgB,SAAhB,CAAL,EAAmC;AAC/B;AACH;;AAED,iBAAK,OAAL,CAAa,SAAb,EAAwB,GAAxB,CAA6B,UAAE,QAAF,EAAY,GAAZ,EAAqB;AAC9C,oBAAI,QAAO,QAAP,yCAAO,QAAP,OAAoB,QAAxB,EAAmC;AAC/B,6BAAS,EAAT,CAAa,IAAb;AACA,0BAAK,OAAL,CAAa,SAAb,EAAwB,MAAxB,CAAgC,GAAhC,EAAqC,CAArC;AACH,iBAHD,MAGO;AACH,6BAAU,IAAV;AACH;AACJ,aAPD;;AASA;AACH;;;;;;AACJ;;kBAEc,O;;;;;;;;;;;ACrDf;;;;AACA;;;;;;;;IAEM,Q;AACF,4BAAgC;AAAA,YAAjB,EAAiB,QAAjB,EAAiB;AAAA,YAAb,QAAa,QAAb,QAAa;;AAAA;;AAC5B,aAAK,EAAL,GAAU,EAAV;AACA,aAAK,cAAL;AACA,aAAK,QAAL,GAAgB,KAAhB;AACA,aAAK,SAAL,GAAiB,QAAjB;;AAEA,eAAO,KAAP,GAAe,OAAO,KAAP,IAAgB,qBAA/B;AACA,eAAO,aAAP,GAAuB,OAAO,aAAP,IAAwB,6BAA/C;;AAEA,aAAK,SAAL,GAAiB,KAAK,SAAL,CAAe,IAAf,CAAqB,IAArB,CAAjB;AACA,aAAK,SAAL,GAAiB,KAAK,SAAL,CAAe,IAAf,CAAqB,IAArB,CAAjB;AACA,aAAK,OAAL,GAAe,KAAK,OAAL,CAAa,IAAb,CAAmB,IAAnB,CAAf;;AAEA,eAAO,aAAP,CAAqB,EAArB,CAAyB,QAAzB,EAAmC,KAAK,SAAxC;AACH;;;;yCAEgB;AACb,iBAAK,GAAL,GAAW,KAAK,EAAL,CAAQ,qBAAR,EAAX;AACA,iBAAK,YAAL,GAAoB,OAAO,WAAP,IAAsB,OAAO,WAAjD;AACA,iBAAK,MAAL,GAAc,KAAK,GAAL,CAAU,KAAK,GAAL,CAAS,GAAT,GAAe,KAAK,YAA9B,EAA4C,CAA5C,CAAd;AACA,iBAAK,IAAL,GAAY,KAAK,GAAL,CAAS,MAArB;AACA,iBAAK,KAAL,GAAa,CAAb;AACA,iBAAK,GAAL,GAAW,CAAX;AACH;;;kCAEU,M,EAAS;AAChB,iBAAK,OAAL,GAAe,MAAf;;AAEA,gBAAI,KAAK,OAAL,EAAJ,EAAqB;;AAEjB,oBAAI,CAAC,OAAO,KAAP,CAAa,OAAlB,EAA4B;AACxB,2BAAO,KAAP,CAAa,KAAb;AACH;;AAED,oBAAI,CAAC,KAAK,QAAV,EAAqB;AACjB,2BAAO,KAAP,CAAa,IAAb,CAAmB,QAAnB,EAA6B,KAAK,SAAlC;AACA,2BAAO,KAAP,CAAa,IAAb,CAAmB,MAAnB,EAA2B,KAAK,OAAhC;;AAEA,yBAAK,QAAL,GAAgB,IAAhB;AACH;AACJ;AACJ;;;oCAEW;AACR;AACA,iBAAK,QAAL,GAAkB,KAAK,KAAL,GAAe,CAAE,KAAK,GAAL,GAAW,KAAK,KAAlB,KAA8B,KAAK,IAAL,GAAY,KAAK,MAA/C,CAAF,IAAgE,KAAK,OAAL,GAAe,KAAK,MAApF,CAA/B;AACH;;;gCAEQ,S,EAAY;AACjB;AACA,iBAAK,SAAL,CAAgB,KAAK,EAArB,EAAyB,KAAK,QAA9B;AACA,iBAAK,QAAL,GAAgB,KAAhB;AACH;;;kCAES;AACN,mBAAS,KAAK,OAAL,GAAe,KAAK,YAApB,IAAoC,KAAK,GAAL,CAAS,GAA/C,IAA0D,KAAK,OAAL,IAAgB,KAAK,GAAL,CAAS,MAA1F;AACH;;;;;;AACJ;;kBAEc,Q;;;;;;;;;;;AC/Df;;;;;;;;;;;;IAEM,a;;;AACF,6BAAc;AAAA;;AAAA;;AAEV,cAAK,SAAL,GAAiB,MAAK,SAAL,CAAe,IAAf,OAAjB;AACA,cAAK,mBAAL;AAHU;AAIb;;;;oCAEW;AACR,iBAAK,OAAL,CAAc,QAAd,EAAwB,OAAO,OAA/B;AACH;;;8CAEqB;AAClB,mBAAO,gBAAP,CAAyB,QAAzB,EAAmC,KAAK,SAAxC,EAAmD,KAAnD;AACH;;;;;;AACJ;;kBAEc,a;;;;;AClBf;;;;;;AAEA,IAAM,OAAS,YAAM;AACjB,WAAO;AACH,cAAM,gBAAM;AACR,gBAAM,YAAY,CAAlB;AACA,gBAAM,UAAU,CAAC,IAAjB;AACA,gBAAM,aAAa,CAAnB;AACA,gBAAM,WAAW,CAAC,IAAlB;AACA,gBAAI,iBAAJ;AACA,gBAAI,gBAAJ;AACA,gBAAI,iBAAJ;AACA,gBAAI,iBAAJ;AACA,gBAAM,SAAS,SAAS,cAAT,CAAyB,MAAzB,CAAf;AACA,gBAAM,UAAU,SAAS,cAAT,CAAyB,OAAzB,CAAhB;AACA,gBAAM,UAAU,SAAS,cAAT,CAAyB,OAAzB,CAAhB;AACA,gBAAM,UAAU,SAAS,cAAT,CAAyB,OAAzB,CAAhB;AACA,gBAAI,YAAY,OAAO,KAAvB;AACA,gBAAI,aAAa,QAAQ,KAAzB;AACA,gBAAI,aAAa,QAAQ,KAAzB;AACA,gBAAI,aAAa,QAAQ,KAAzB;;AAEA,gBAAM,OAAO,SAAP,IAAO,CAAE,CAAF,EAAS;AAClB,uBAAO,IAAE,EAAF,GAAO,IAAE,CAAF,GAAI,CAAX,GAAe,CAAC,CAAD,GAAG,CAAC,IAAE,IAAE,CAAL,IAAQ,CAAjC;AACH,aAFD;;AAIA,gBAAM,OAAO,uBAAa;AACtB,oBAAI,SAAS,cAAT,CAAyB,MAAzB,CADkB;AAEtB,0BAAU,kBAAE,EAAF,EAAM,QAAN,EAAoB;AAC1B,8BAAY,YAAc,CAAE,UAAU,SAAZ,IAA0B,CAA5B,GAAkC,KAAM,QAAN,CAA1D;AACA,8BAAU,SAAV,wBAA0C,QAAQ,OAAR,CAAiB,CAAjB,CAA1C;AACH;AALqB,aAAb,CAAb;;AAQA,gBAAM,QAAQ,uBAAa;AACvB,oBAAI,SAAS,cAAT,CAAyB,OAAzB,CADmB;AAEvB,0BAAU,kBAAE,EAAF,EAAM,QAAN,EAAoB;AAC1B,+BAAa,YAAc,CAAE,UAAU,SAAZ,IAA0B,CAA5B,GAAkC,KAAM,QAAN,CAA3D;AACA,+BAAW,SAAX,wBAA2C,SAAS,OAAT,CAAkB,CAAlB,CAA3C;AACH;AALsB,aAAb,CAAd;;AAQA,gBAAM,QAAQ,uBAAa;AACvB,oBAAI,SAAS,cAAT,CAAyB,OAAzB,CADmB;AAEvB,0BAAU,kBAAE,EAAF,EAAM,QAAN,EAAoB;AAC1B,+BAAa,aAAe,CAAE,WAAW,UAAb,IAA4B,CAA9B,GAAoC,KAAM,QAAN,CAA9D;AACA,+BAAW,SAAX,wBAA2C,SAAS,OAAT,CAAkB,CAAlB,CAA3C;AACH;AALsB,aAAb,CAAd;;AAQA,gBAAM,QAAQ,uBAAa;AACvB,oBAAI,SAAS,cAAT,CAAyB,OAAzB,CADmB;AAEvB,0BAAU,kBAAE,EAAF,EAAM,QAAN,EAAoB;AAC1B,+BAAa,aAAe,CAAE,WAAW,UAAb,IAA4B,CAA9B,GAAoC,KAAM,QAAN,CAA9D;AACA,+BAAW,SAAX,wBAA2C,SAAS,OAAT,CAAkB,CAAlB,CAA3C;AACH;AALsB,aAAb,CAAd;AAOH;AAtDE,KAAP;AAwDH,CAzDY,EAAb;;AA2DA,KAAK,IAAL","file":"index.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Emitter from './Emitter.js';\n\nclass Clock extends Emitter {\n    constructor() {\n        super();\n\n        this.running = false;\n        this._ticking = false;\n        this._startTime;\n        this._draw = this._draw.bind( this );\n    }\n\n    _draw( timeStamp ) {\n        this._ticking = false;\n\n        this.trigger( 'UPDATE' );\n        this.trigger( 'DRAW', timeStamp );\n\n        if( this._events.length ) {\n            this._raf = requestAnimationFrame( this._draw );\n        } else {\n            this.stop();\n        }\n    }\n\n    _requestTick() {\n        if( !this._ticking ) {\n            this._raf = requestAnimationFrame( this._draw );\n        }\n\n        this._ticking = true;\n    }\n\n    start() {\n        this.running = true;\n        this._requestTick();\n    }\n\n    stop() {\n        this.running = false;\n        cancelAnimationFrame( this._raf );\n    }\n};\n\nexport default Clock;\n","class Emitter {\n    constructor() {\n        this._events = {};\n    }\n\n    _hasEvent( eventName ) {\n        return eventName in this._events;\n    }\n\n    on( eventName, callBack ) {\n        if( this._hasEvent( eventName ) ) {\n            this._events[eventName].push( callBack );\n        } else {\n            this._events[eventName] = [ callBack ];\n        }\n\n        return this;\n    }\n\n    once( eventName, callBack ) {\n        this.on( eventName, { cb: callBack } );\n    }\n\n    off( eventName, callBack ) {\n        if( !this._hasEvent( eventName ) ) {\n            return this;\n        }\n\n        const index = this._events[eventName].indexOf( callBack );\n\n        if( index >= 0 ) {\n            this._events[eventName].splice( index, 1 );\n        }\n    }\n\n    trigger( eventName, data, onFinish = () => {} ) {\n        if( !this._hasEvent( eventName ) ) {\n            return;\n        }\n\n        this._events[eventName].map( ( callBack, idx ) => {\n            if( typeof callBack === 'object' ) {\n                callBack.cb( data );\n                this._events[eventName].splice( idx, 1 );\n            } else {\n                callBack( data );\n            }\n        });\n\n        onFinish();\n    }\n};\n\nexport default Emitter;\n","import Clock from './Clock.js';\nimport ScrollEmitter from './ScrollEmitter.js';\n\nclass Parallax {\n    constructor( { el, resolver } ) {\n        this.el = el;\n        this._getDimensions();\n        this._ticking = false;\n        this._resolver = resolver;\n\n        window.clock = window.clock || new Clock();\n        window.scrollEmitter = window.scrollEmitter || new ScrollEmitter();\n\n        this._onScroll = this._onScroll.bind( this );\n        this._onUpdate = this._onUpdate.bind( this );\n        this._onDraw = this._onDraw.bind( this );\n\n        window.scrollEmitter.on( 'UPDATE', this._onScroll );\n    }\n\n    _getDimensions() {\n        this.box = this.el.getBoundingClientRect();\n        this.windowHeight = window.outerHeight || window.innerHeight;\n        this._start = Math.max( this.box.top - this.windowHeight, 0 );\n        this._end = this.box.bottom;\n        this._from = 0;\n        this._to = 1;\n    }\n\n    _onScroll( scroll ) {\n        this._scroll = scroll;\n\n        if( this._inView() ) {\n\n            if( !window.clock.running ) {\n                window.clock.start();\n            }\n\n            if( !this._ticking ) {\n                window.clock.once( 'UPDATE', this._onUpdate );\n                window.clock.once( 'DRAW', this._onDraw );\n\n                this._ticking = true;\n            }\n        }\n    }\n\n    _onUpdate() {\n        // Calculate the value of our transform:\n        this.progress = ( this._from + ( ( this._to - this._from ) / ( this._end - this._start ) ) * ( this._scroll - this._start ) );\n    }\n\n    _onDraw( timeStamp ) {\n        // Do the transform:\n        this._resolver( this.el, this.progress );\n        this._ticking = false;\n    }\n\n    _inView() {\n        return ( this._scroll + this.windowHeight >= this.box.top ) && ( this._scroll <= this.box.bottom );\n    }\n};\n\nexport default Parallax;\n","import Emitter from './Emitter.js';\n\nclass ScrollEmitter extends Emitter {\n    constructor() {\n        super();\n        this._onScroll = this._onScroll.bind( this );\n        this._bindScrollListener();\n    }\n\n    _onScroll() {\n        this.trigger( 'UPDATE', window.scrollY );\n    }\n\n    _bindScrollListener() {\n        window.addEventListener( 'scroll', this._onScroll, false );\n    }\n};\n\nexport default ScrollEmitter;\n","import Parallax from './Parallax.js';\n\nconst main = ( () => {\n    return {\n        init: () => {\n            const BOZO_FROM = 0;\n            const BOZO_TO = -1000;\n            const BINGO_FROM = 0;\n            const BINGO_TO = -4000;\n            let bingoVal;\n            let bozoVal;\n            let bongoVal;\n            let dingoVal;\n            const bozoEl = document.getElementById( 'bozo' );\n            const bongoEl = document.getElementById( 'bongo' );\n            const bingoEl = document.getElementById( 'bingo' );\n            const dingoEl = document.getElementById( 'dingo' );\n            let bozoStyle = bozoEl.style;\n            let bongoStyle = bongoEl.style;\n            let bingoStyle = bingoEl.style;\n            let dingoStyle = dingoEl.style;\n\n            const ease = ( t ) => {\n                return t<.5 ? 2*t*t : -1+(4-2*t)*t\n            }\n\n            const bozo = new Parallax({\n                el: document.getElementById( 'bozo' ),\n                resolver: ( el, progress ) => {\n                    bozoVal = ( BOZO_FROM + ( ( BOZO_TO - BOZO_FROM ) / 1 ) * ease( progress ) );\n                    bozoStyle.transform = `translate3d( 0, ${ bozoVal.toFixed( 2 ) }px, 0 )`;\n                }\n            });\n\n            const bongo = new Parallax({\n                el: document.getElementById( 'bongo' ),\n                resolver: ( el, progress ) => {\n                    bongoVal = ( BOZO_FROM + ( ( BOZO_TO - BOZO_FROM ) / 1 ) * ease( progress ) );\n                    bongoStyle.transform = `translate3d( 0, ${ bongoVal.toFixed( 2 ) }px, 0 )`;\n                }\n            });\n\n            const bingo = new Parallax({\n                el: document.getElementById( 'bingo' ),\n                resolver: ( el, progress ) => {\n                    bingoVal = ( BINGO_FROM + ( ( BINGO_TO - BINGO_FROM ) / 1 ) * ease( progress ) );\n                    bingoStyle.transform = `translate3d( 0, ${ bingoVal.toFixed( 2 ) }px, 0 )`;\n                }\n            });\n\n            const dingo = new Parallax({\n                el: document.getElementById( 'dingo' ),\n                resolver: ( el, progress ) => {\n                    dingoVal = ( BINGO_FROM + ( ( BINGO_TO - BINGO_FROM ) / 1 ) * ease( progress ) );\n                    dingoStyle.transform = `translate3d( 0, ${ dingoVal.toFixed( 2 ) }px, 0 )`;\n                }\n            });\n        }\n    }\n})();\n\nmain.init();\n"]}